{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\siddh\\\\OneDrive\\\\Desktop\\\\Projects\\\\Job_tracker\\\\frontend\\\\src\\\\pages\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { collection, onSnapshot, doc, updateDoc, getDoc } from 'firebase/firestore';\nimport { db } from '../firebase';\nimport { callGetAuthUrl, callFetchJobEmails, callGeneratePDFReport } from '../api';\nimport './Dashboard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = ({\n  user,\n  onSignOut\n}) => {\n  _s();\n  const [applications, setApplications] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [pdfLoading, setPdfLoading] = useState(false);\n  const [gmailConnected, setGmailConnected] = useState(false);\n  const [lastScan, setLastScan] = useState(null);\n  const [scanDays, setScanDays] = useState(7);\n  const [stats, setStats] = useState({\n    total: 0,\n    pending: 0,\n    interviews: 0,\n    offers: 0,\n    rejected: 0\n  });\n  useEffect(() => {\n    if (!user) return;\n\n    // Check for OAuth success in URL\n    const urlParams = new URLSearchParams(window.location.search);\n    if (urlParams.get('auth') === 'success') {\n      alert('Gmail successfully connected! You can now scan your emails.');\n      // Clean up the URL\n      window.history.replaceState({}, document.title, window.location.pathname);\n    }\n\n    // Check if Gmail tokens exist\n    const checkGmailConnection = async () => {\n      try {\n        var _tokenDoc$data;\n        const tokenDoc = await getDoc(doc(db, 'users', user.uid, 'tokens', 'gmail'));\n        setGmailConnected(tokenDoc.exists() && ((_tokenDoc$data = tokenDoc.data()) === null || _tokenDoc$data === void 0 ? void 0 : _tokenDoc$data.refresh_token));\n      } catch (error) {\n        console.error('Error checking Gmail connection:', error);\n      }\n    };\n    checkGmailConnection();\n\n    // Listen to applications in real-time\n    const unsubscribe = onSnapshot(collection(db, 'users', user.uid, 'applications'), snapshot => {\n      const apps = [];\n      snapshot.forEach(doc => {\n        if (doc.id !== '_init') {\n          var _data$date;\n          const data = doc.data();\n          apps.push({\n            id: doc.id,\n            ...data,\n            date: (_data$date = data.date) !== null && _data$date !== void 0 && _data$date.toDate ? data.date.toDate() : new Date(data.date)\n          });\n        }\n      });\n\n      // Sort by date (most recent first)\n      apps.sort((a, b) => new Date(b.date) - new Date(a.date));\n      setApplications(apps);\n\n      // Update stats\n      updateStats(apps);\n\n      // Get last scan time\n      if (apps.length > 0) {\n        var _mostRecent$created_a;\n        const mostRecent = apps[0];\n        setLastScan((_mostRecent$created_a = mostRecent.created_at) !== null && _mostRecent$created_a !== void 0 && _mostRecent$created_a.toDate ? mostRecent.created_at.toDate() : new Date(mostRecent.created_at));\n      }\n    }, error => {\n      console.error('Error listening to applications:', error);\n    });\n    return () => unsubscribe();\n  }, [user]);\n  const updateStats = apps => {\n    const stats = {\n      total: apps.length,\n      pending: 0,\n      interviews: 0,\n      offers: 0,\n      rejected: 0\n    };\n    apps.forEach(app => {\n      var _app$status;\n      const status = ((_app$status = app.status) === null || _app$status === void 0 ? void 0 : _app$status.category) || app.status || 'Applied';\n      if (status.toLowerCase().includes('interview')) {\n        stats.interviews++;\n      } else if (status.toLowerCase().includes('offer')) {\n        stats.offers++;\n      } else if (status.toLowerCase().includes('reject')) {\n        stats.rejected++;\n      } else {\n        stats.pending++;\n      }\n    });\n    setStats(stats);\n  };\n  const handleConnectGmail = async () => {\n    try {\n      setLoading(true);\n      const response = await callGetAuthUrl();\n      window.location.href = response.authUrl;\n    } catch (error) {\n      console.error('Error connecting to Gmail:', error);\n      alert('Failed to connect to Gmail. Please try again.');\n    }\n    setLoading(false);\n  };\n  const handleScanEmails = async () => {\n    try {\n      setLoading(true);\n      const response = await callFetchJobEmails(scanDays);\n      if (response.success) {\n        alert(`Successfully scanned emails! Found ${response.count} applications from the last ${response.daysBack} days.`);\n        setLastScan(new Date());\n      }\n    } catch (error) {\n      console.error('Error scanning emails:', error);\n      alert(`Failed to scan emails: ${error.message}`);\n    }\n    setLoading(false);\n  };\n  const handleGeneratePDF = async () => {\n    try {\n      setPdfLoading(true);\n      const response = await callGeneratePDFReport();\n      if (response.success) {\n        // Open the download URL in a new tab\n        window.open(response.downloadURL, '_blank');\n        alert(`PDF report generated successfully! Found ${response.applicationsCount} applications.`);\n      }\n    } catch (error) {\n      console.error('Error generating PDF:', error);\n      alert(`Failed to generate PDF: ${error.message}`);\n    }\n    setPdfLoading(false);\n  };\n  const handleUpdateScanDays = async () => {\n    try {\n      await updateDoc(doc(db, 'users', user.uid), {\n        emailScanDays: scanDays\n      });\n      alert('Scan period updated successfully!');\n    } catch (error) {\n      console.error('Error updating scan days:', error);\n    }\n  };\n  const getStatusColor = status => {\n    const category = (status === null || status === void 0 ? void 0 : status.category) || status || 'Applied';\n    const colorMap = {\n      'Applied': '#3b82f6',\n      'Under Review': '#f59e0b',\n      'Interview Scheduled': '#8b5cf6',\n      'Technical Interview': '#ec4899',\n      'Final Round': '#f97316',\n      'Offer Received': '#10b981',\n      'Rejected': '#ef4444',\n      'Withdrawn': '#6b7280',\n      'Follow-up Required': '#06b6d4'\n    };\n\n    // Handle partial matches\n    const lowerCategory = category.toLowerCase();\n    for (const [key, color] of Object.entries(colorMap)) {\n      if (lowerCategory.includes(key.toLowerCase())) {\n        return color;\n      }\n    }\n    return colorMap[category] || '#6b7280';\n  };\n  const formatDate = date => {\n    if (!date) return 'Unknown';\n    return new Intl.DateTimeFormat('en-US', {\n      month: 'short',\n      day: 'numeric',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    }).format(date);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"dashboard-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-left\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"\\uD83C\\uDFAF JobTrack Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Welcome back, \", user.displayName || user.email, \"!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-right\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleGeneratePDF,\n            className: \"pdf-button\",\n            disabled: pdfLoading || applications.length === 0,\n            children: pdfLoading ? 'Generating...' : '📄 Generate PDF Report'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onSignOut,\n            className: \"sign-out-button\",\n            children: \"Sign Out\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stats-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: \"\\uD83D\\uDCCA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: stats.total\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Total Applications\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: \"\\u23F3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: stats.pending\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Pending\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: \"\\uD83C\\uDFAF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: stats.interviews\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Interviews\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: \"\\u2705\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: stats.offers\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Offers\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: \"\\u274C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: stats.rejected\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Rejected\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gmail-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD83D\\uDCE7 Gmail Integration\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gmail-status\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `status-indicator ${gmailConnected ? 'connected' : 'disconnected'}`,\n            children: gmailConnected ? '🟢 Connected' : '🔴 Not Connected'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"gmail-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"scan-controls\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"scan-days-input\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"scanDays\",\n              children: \"Scan last:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"scanDays\",\n              value: scanDays,\n              onChange: e => setScanDays(parseInt(e.target.value)),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: 1,\n                children: \"1 day\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 3,\n                children: \"3 days\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 7,\n                children: \"7 days\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 14,\n                children: \"14 days\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 30,\n                children: \"30 days\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 90,\n                children: \"90 days\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleUpdateScanDays,\n              className: \"update-button\",\n              children: \"Update\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this), lastScan && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"last-scan\",\n            children: [\"Last scan: \", formatDate(lastScan)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"action-buttons\",\n          children: [!gmailConnected && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleConnectGmail,\n            className: \"connect-button\",\n            disabled: loading,\n            children: loading ? 'Connecting...' : '🔗 Connect Gmail'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleScanEmails,\n            className: \"scan-button\",\n            disabled: loading || !gmailConnected,\n            children: loading ? 'Scanning...' : '🔍 Scan for Job Emails'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"applications-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD83D\\uDCCB Job Applications\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"applications-count\",\n          children: [applications.length, \" applications found\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 9\n      }, this), applications.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-icon\",\n          children: \"\\uD83D\\uDCED\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"No Applications Yet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Connect your Gmail account and scan for job-related emails to get started!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"applications-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"th\",\n            children: \"Company\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"th\",\n            children: \"Position\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"th\",\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"th\",\n            children: \"Last Contact\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"th\",\n            children: \"Source\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-body\",\n          children: applications.map(app => {\n            var _app$status2, _app$status3, _app$status4;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"table-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"td company-cell\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"company-name\",\n                  children: app.company\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"td position-cell\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"position-name\",\n                  children: app.position\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"td status-cell\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"status-badge\",\n                  style: {\n                    backgroundColor: getStatusColor(app.status),\n                    color: 'white'\n                  },\n                  children: ((_app$status2 = app.status) === null || _app$status2 === void 0 ? void 0 : _app$status2.category) || app.status || 'Applied'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 21\n                }, this), ((_app$status3 = app.status) === null || _app$status3 === void 0 ? void 0 : _app$status3.description) && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"status-description\",\n                  children: app.status.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 370,\n                  columnNumber: 23\n                }, this), ((_app$status4 = app.status) === null || _app$status4 === void 0 ? void 0 : _app$status4.aiGenerated) && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ai-badge\",\n                  children: \"\\uD83E\\uDD16 AI Generated\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 375,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"td date-cell\",\n                children: formatDate(app.date)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"td source-cell\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"source-badge\",\n                  children: [app.source === 'Gmail' ? '📧' : '📝', \" \", app.source]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 19\n              }, this)]\n            }, app.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 200,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"3th+sD3IpctAPrhP256uAC1VrQ0=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","collection","onSnapshot","doc","updateDoc","getDoc","db","callGetAuthUrl","callFetchJobEmails","callGeneratePDFReport","jsxDEV","_jsxDEV","Dashboard","user","onSignOut","_s","applications","setApplications","loading","setLoading","pdfLoading","setPdfLoading","gmailConnected","setGmailConnected","lastScan","setLastScan","scanDays","setScanDays","stats","setStats","total","pending","interviews","offers","rejected","urlParams","URLSearchParams","window","location","search","get","alert","history","replaceState","document","title","pathname","checkGmailConnection","_tokenDoc$data","tokenDoc","uid","exists","data","refresh_token","error","console","unsubscribe","snapshot","apps","forEach","id","_data$date","push","date","toDate","Date","sort","a","b","updateStats","length","_mostRecent$created_a","mostRecent","created_at","app","_app$status","status","category","toLowerCase","includes","handleConnectGmail","response","href","authUrl","handleScanEmails","success","count","daysBack","message","handleGeneratePDF","open","downloadURL","applicationsCount","handleUpdateScanDays","emailScanDays","getStatusColor","colorMap","lowerCategory","key","color","Object","entries","formatDate","Intl","DateTimeFormat","month","day","year","hour","minute","format","className","children","fileName","_jsxFileName","lineNumber","columnNumber","displayName","email","onClick","disabled","htmlFor","value","onChange","e","parseInt","target","map","_app$status2","_app$status3","_app$status4","company","position","style","backgroundColor","description","aiGenerated","source","_c","$RefreshReg$"],"sources":["C:/Users/siddh/OneDrive/Desktop/Projects/Job_tracker/frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { collection, onSnapshot, doc, updateDoc, getDoc } from 'firebase/firestore';\r\nimport { db } from '../firebase';\r\nimport { callGetAuthUrl, callFetchJobEmails, callGeneratePDFReport } from '../api';\r\nimport './Dashboard.css';\r\n\r\nconst Dashboard = ({ user, onSignOut }) => {\r\n  const [applications, setApplications] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [pdfLoading, setPdfLoading] = useState(false);\r\n  const [gmailConnected, setGmailConnected] = useState(false);\r\n  const [lastScan, setLastScan] = useState(null);\r\n  const [scanDays, setScanDays] = useState(7);\r\n  const [stats, setStats] = useState({\r\n    total: 0,\r\n    pending: 0,\r\n    interviews: 0,\r\n    offers: 0,\r\n    rejected: 0\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (!user) return;\r\n\r\n    // Check for OAuth success in URL\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    if (urlParams.get('auth') === 'success') {\r\n      alert('Gmail successfully connected! You can now scan your emails.');\r\n      // Clean up the URL\r\n      window.history.replaceState({}, document.title, window.location.pathname);\r\n    }\r\n\r\n    // Check if Gmail tokens exist\r\n    const checkGmailConnection = async () => {\r\n      try {\r\n        const tokenDoc = await getDoc(doc(db, 'users', user.uid, 'tokens', 'gmail'));\r\n        setGmailConnected(tokenDoc.exists() && tokenDoc.data()?.refresh_token);\r\n      } catch (error) {\r\n        console.error('Error checking Gmail connection:', error);\r\n      }\r\n    };\r\n\r\n    checkGmailConnection();\r\n\r\n    // Listen to applications in real-time\r\n    const unsubscribe = onSnapshot(\r\n      collection(db, 'users', user.uid, 'applications'),\r\n      (snapshot) => {\r\n        const apps = [];\r\n        snapshot.forEach((doc) => {\r\n          if (doc.id !== '_init') {\r\n            const data = doc.data();\r\n            apps.push({\r\n              id: doc.id,\r\n              ...data,\r\n              date: data.date?.toDate ? data.date.toDate() : new Date(data.date)\r\n            });\r\n          }\r\n        });\r\n        \r\n        // Sort by date (most recent first)\r\n        apps.sort((a, b) => new Date(b.date) - new Date(a.date));\r\n        setApplications(apps);\r\n        \r\n        // Update stats\r\n        updateStats(apps);\r\n        \r\n        // Get last scan time\r\n        if (apps.length > 0) {\r\n          const mostRecent = apps[0];\r\n          setLastScan(mostRecent.created_at?.toDate ? mostRecent.created_at.toDate() : new Date(mostRecent.created_at));\r\n        }\r\n      },\r\n      (error) => {\r\n        console.error('Error listening to applications:', error);\r\n      }\r\n    );\r\n\r\n    return () => unsubscribe();\r\n  }, [user]);\r\n\r\n  const updateStats = (apps) => {\r\n    const stats = {\r\n      total: apps.length,\r\n      pending: 0,\r\n      interviews: 0,\r\n      offers: 0,\r\n      rejected: 0\r\n    };\r\n\r\n    apps.forEach(app => {\r\n      const status = app.status?.category || app.status || 'Applied';\r\n      if (status.toLowerCase().includes('interview')) {\r\n        stats.interviews++;\r\n      } else if (status.toLowerCase().includes('offer')) {\r\n        stats.offers++;\r\n      } else if (status.toLowerCase().includes('reject')) {\r\n        stats.rejected++;\r\n      } else {\r\n        stats.pending++;\r\n      }\r\n    });\r\n\r\n    setStats(stats);\r\n  };\r\n\r\n  const handleConnectGmail = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await callGetAuthUrl();\r\n      window.location.href = response.authUrl;\r\n    } catch (error) {\r\n      console.error('Error connecting to Gmail:', error);\r\n      alert('Failed to connect to Gmail. Please try again.');\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleScanEmails = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await callFetchJobEmails(scanDays);\r\n      \r\n      if (response.success) {\r\n        alert(`Successfully scanned emails! Found ${response.count} applications from the last ${response.daysBack} days.`);\r\n        setLastScan(new Date());\r\n      }\r\n    } catch (error) {\r\n      console.error('Error scanning emails:', error);\r\n      alert(`Failed to scan emails: ${error.message}`);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleGeneratePDF = async () => {\r\n    try {\r\n      setPdfLoading(true);\r\n      const response = await callGeneratePDFReport();\r\n      \r\n      if (response.success) {\r\n        // Open the download URL in a new tab\r\n        window.open(response.downloadURL, '_blank');\r\n        alert(`PDF report generated successfully! Found ${response.applicationsCount} applications.`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error generating PDF:', error);\r\n      alert(`Failed to generate PDF: ${error.message}`);\r\n    }\r\n    setPdfLoading(false);\r\n  };\r\n\r\n  const handleUpdateScanDays = async () => {\r\n    try {\r\n      await updateDoc(doc(db, 'users', user.uid), {\r\n        emailScanDays: scanDays\r\n      });\r\n      alert('Scan period updated successfully!');\r\n    } catch (error) {\r\n      console.error('Error updating scan days:', error);\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    const category = status?.category || status || 'Applied';\r\n    const colorMap = {\r\n      'Applied': '#3b82f6',\r\n      'Under Review': '#f59e0b',\r\n      'Interview Scheduled': '#8b5cf6',\r\n      'Technical Interview': '#ec4899',\r\n      'Final Round': '#f97316',\r\n      'Offer Received': '#10b981',\r\n      'Rejected': '#ef4444',\r\n      'Withdrawn': '#6b7280',\r\n      'Follow-up Required': '#06b6d4',\r\n    };\r\n    \r\n    // Handle partial matches\r\n    const lowerCategory = category.toLowerCase();\r\n    for (const [key, color] of Object.entries(colorMap)) {\r\n      if (lowerCategory.includes(key.toLowerCase())) {\r\n        return color;\r\n      }\r\n    }\r\n    \r\n    return colorMap[category] || '#6b7280';\r\n  };\r\n\r\n  const formatDate = (date) => {\r\n    if (!date) return 'Unknown';\r\n    return new Intl.DateTimeFormat('en-US', {\r\n      month: 'short',\r\n      day: 'numeric',\r\n      year: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    }).format(date);\r\n  };\r\n\r\n  return (\r\n    <div className=\"dashboard\">\r\n      {/* Header */}\r\n      <header className=\"dashboard-header\">\r\n        <div className=\"header-content\">\r\n          <div className=\"header-left\">\r\n            <h1>🎯 JobTrack Dashboard</h1>\r\n            <p>Welcome back, {user.displayName || user.email}!</p>\r\n          </div>\r\n          <div className=\"header-right\">\r\n            <button \r\n              onClick={handleGeneratePDF}\r\n              className=\"pdf-button\"\r\n              disabled={pdfLoading || applications.length === 0}\r\n            >\r\n              {pdfLoading ? 'Generating...' : '📄 Generate PDF Report'}\r\n            </button>\r\n            <button onClick={onSignOut} className=\"sign-out-button\">\r\n              Sign Out\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Stats Cards */}\r\n      <div className=\"stats-grid\">\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\">📊</div>\r\n          <div className=\"stat-content\">\r\n            <div className=\"stat-value\">{stats.total}</div>\r\n            <div className=\"stat-label\">Total Applications</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\">⏳</div>\r\n          <div className=\"stat-content\">\r\n            <div className=\"stat-value\">{stats.pending}</div>\r\n            <div className=\"stat-label\">Pending</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\">🎯</div>\r\n          <div className=\"stat-content\">\r\n            <div className=\"stat-value\">{stats.interviews}</div>\r\n            <div className=\"stat-label\">Interviews</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\">✅</div>\r\n          <div className=\"stat-content\">\r\n            <div className=\"stat-value\">{stats.offers}</div>\r\n            <div className=\"stat-label\">Offers</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\">❌</div>\r\n          <div className=\"stat-content\">\r\n            <div className=\"stat-value\">{stats.rejected}</div>\r\n            <div className=\"stat-label\">Rejected</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Gmail Integration Section */}\r\n      <div className=\"gmail-section\">\r\n        <div className=\"section-header\">\r\n          <h2>📧 Gmail Integration</h2>\r\n          <div className=\"gmail-status\">\r\n            <span className={`status-indicator ${gmailConnected ? 'connected' : 'disconnected'}`}>\r\n              {gmailConnected ? '🟢 Connected' : '🔴 Not Connected'}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"gmail-controls\">\r\n          <div className=\"scan-controls\">\r\n            <div className=\"scan-days-input\">\r\n              <label htmlFor=\"scanDays\">Scan last:</label>\r\n              <select \r\n                id=\"scanDays\"\r\n                value={scanDays} \r\n                onChange={(e) => setScanDays(parseInt(e.target.value))}\r\n              >\r\n                <option value={1}>1 day</option>\r\n                <option value={3}>3 days</option>\r\n                <option value={7}>7 days</option>\r\n                <option value={14}>14 days</option>\r\n                <option value={30}>30 days</option>\r\n                <option value={90}>90 days</option>\r\n              </select>\r\n              <button onClick={handleUpdateScanDays} className=\"update-button\">\r\n                Update\r\n              </button>\r\n            </div>\r\n            \r\n            {lastScan && (\r\n              <div className=\"last-scan\">\r\n                Last scan: {formatDate(lastScan)}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"action-buttons\">\r\n            {!gmailConnected && (\r\n              <button \r\n                onClick={handleConnectGmail}\r\n                className=\"connect-button\"\r\n                disabled={loading}\r\n              >\r\n                {loading ? 'Connecting...' : '🔗 Connect Gmail'}\r\n              </button>\r\n            )}\r\n            \r\n            <button \r\n              onClick={handleScanEmails}\r\n              className=\"scan-button\"\r\n              disabled={loading || !gmailConnected}\r\n            >\r\n              {loading ? 'Scanning...' : '🔍 Scan for Job Emails'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Applications Table */}\r\n      <div className=\"applications-section\">\r\n        <div className=\"section-header\">\r\n          <h2>📋 Job Applications</h2>\r\n          <div className=\"applications-count\">\r\n            {applications.length} applications found\r\n          </div>\r\n        </div>\r\n\r\n        {applications.length === 0 ? (\r\n          <div className=\"empty-state\">\r\n            <div className=\"empty-icon\">📭</div>\r\n            <h3>No Applications Yet</h3>\r\n            <p>Connect your Gmail account and scan for job-related emails to get started!</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"applications-table\">\r\n            <div className=\"table-header\">\r\n              <div className=\"th\">Company</div>\r\n              <div className=\"th\">Position</div>\r\n              <div className=\"th\">Status</div>\r\n              <div className=\"th\">Last Contact</div>\r\n              <div className=\"th\">Source</div>\r\n            </div>\r\n            \r\n            <div className=\"table-body\">\r\n              {applications.map((app) => (\r\n                <div key={app.id} className=\"table-row\">\r\n                  <div className=\"td company-cell\">\r\n                    <div className=\"company-name\">{app.company}</div>\r\n                  </div>\r\n                  \r\n                  <div className=\"td position-cell\">\r\n                    <div className=\"position-name\">{app.position}</div>\r\n                  </div>\r\n                  \r\n                  <div className=\"td status-cell\">\r\n                    <div \r\n                      className=\"status-badge\"\r\n                      style={{ \r\n                        backgroundColor: getStatusColor(app.status),\r\n                        color: 'white'\r\n                      }}\r\n                    >\r\n                      {app.status?.category || app.status || 'Applied'}\r\n                    </div>\r\n                    {app.status?.description && (\r\n                      <div className=\"status-description\">\r\n                        {app.status.description}\r\n                      </div>\r\n                    )}\r\n                    {app.status?.aiGenerated && (\r\n                      <div className=\"ai-badge\">🤖 AI Generated</div>\r\n                    )}\r\n                  </div>\r\n                  \r\n                  <div className=\"td date-cell\">\r\n                    {formatDate(app.date)}\r\n                  </div>\r\n                  \r\n                  <div className=\"td source-cell\">\r\n                    <span className=\"source-badge\">\r\n                      {app.source === 'Gmail' ? '📧' : '📝'} {app.source}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}