{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\siddh\\\\OneDrive\\\\Desktop\\\\Projects\\\\Job_tracker\\\\frontend\\\\src\\\\pages\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { collection, onSnapshot, doc, updateDoc, getDoc } from 'firebase/firestore';\nimport { db } from '../firebase';\nimport { callGetAuthUrl, callFetchJobEmails, callGeneratePDFReport } from '../api';\nimport './Dashboard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = ({\n  user,\n  onSignOut\n}) => {\n  _s();\n  const [applications, setApplications] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [pdfLoading, setPdfLoading] = useState(false);\n  const [gmailConnected, setGmailConnected] = useState(false);\n  const [lastScan, setLastScan] = useState(null);\n  const [scanDays, setScanDays] = useState(7);\n  const [stats, setStats] = useState({\n    total: 0,\n    pending: 0,\n    interviews: 0,\n    offers: 0,\n    rejected: 0\n  });\n\n  // Check if Gmail tokens exist\n  const checkGmailConnection = async () => {\n    try {\n      var _tokenDoc$data;\n      console.log('🔍 Checking Gmail connection for user:', user.uid);\n      const tokenDoc = await getDoc(doc(db, 'users', user.uid, 'tokens', 'gmail'));\n      console.log('📄 Token document exists:', tokenDoc.exists());\n      if (tokenDoc.exists()) {\n        console.log('🔑 Token data:', tokenDoc.data());\n      }\n      const isConnected = tokenDoc.exists() && ((_tokenDoc$data = tokenDoc.data()) === null || _tokenDoc$data === void 0 ? void 0 : _tokenDoc$data.refresh_token);\n      console.log('🔗 Gmail connected:', isConnected);\n      setGmailConnected(isConnected);\n    } catch (error) {\n      console.error('❌ Error checking Gmail connection:', error);\n    }\n  };\n  useEffect(() => {\n    if (!user) return;\n\n    // Check for OAuth success in URL\n    const urlParams = new URLSearchParams(window.location.search);\n    if (urlParams.get('auth') === 'success') {\n      alert('Gmail successfully connected! You can now scan your emails.');\n      // Clean up the URL\n      window.history.replaceState({}, document.title, window.location.pathname);\n    }\n    checkGmailConnection();\n\n    // Listen to applications in real-time\n    const unsubscribe = onSnapshot(collection(db, 'users', user.uid, 'applications'), snapshot => {\n      const apps = [];\n      snapshot.forEach(doc => {\n        if (doc.id !== '_init') {\n          var _data$date;\n          const data = doc.data();\n          apps.push({\n            id: doc.id,\n            ...data,\n            date: (_data$date = data.date) !== null && _data$date !== void 0 && _data$date.toDate ? data.date.toDate() : new Date(data.date)\n          });\n        }\n      });\n\n      // Sort by date (most recent first)\n      apps.sort((a, b) => new Date(b.date) - new Date(a.date));\n      setApplications(apps);\n\n      // Update stats\n      updateStats(apps);\n\n      // Get last scan time\n      if (apps.length > 0) {\n        var _mostRecent$created_a;\n        const mostRecent = apps[0];\n        setLastScan((_mostRecent$created_a = mostRecent.created_at) !== null && _mostRecent$created_a !== void 0 && _mostRecent$created_a.toDate ? mostRecent.created_at.toDate() : new Date(mostRecent.created_at));\n      }\n    }, error => {\n      console.error('Error listening to applications:', error);\n    });\n    return () => unsubscribe();\n  }, [user]);\n  const updateStats = apps => {\n    const stats = {\n      total: apps.length,\n      pending: 0,\n      interviews: 0,\n      offers: 0,\n      rejected: 0\n    };\n    apps.forEach(app => {\n      var _app$status;\n      const status = ((_app$status = app.status) === null || _app$status === void 0 ? void 0 : _app$status.category) || app.status || 'Applied';\n      if (status.toLowerCase().includes('interview')) {\n        stats.interviews++;\n      } else if (status.toLowerCase().includes('offer')) {\n        stats.offers++;\n      } else if (status.toLowerCase().includes('reject')) {\n        stats.rejected++;\n      } else {\n        stats.pending++;\n      }\n    });\n    setStats(stats);\n  };\n  const handleConnectGmail = async () => {\n    try {\n      setLoading(true);\n      console.log('🔗 Starting Gmail connection...');\n      const response = await callGetAuthUrl();\n      console.log('📧 OAuth URL response:', response);\n      console.log('🌐 Redirecting to:', response.authUrl);\n\n      // Log the OAuth URL for debugging\n      console.log('🔍 OAUTH URL DETAILS:');\n      const url = new URL(response.authUrl);\n      console.log('- Host:', url.host);\n      console.log('- Search params:', url.searchParams.toString());\n      console.log('- Redirect URI:', url.searchParams.get('redirect_uri'));\n\n      // Delay redirect so we can see the logs\n      setTimeout(() => {\n        window.location.href = response.authUrl;\n      }, 2000); // 2 second delay\n    } catch (error) {\n      console.error('❌ Error connecting to Gmail:', error);\n      alert('Failed to connect to Gmail. Please try again.');\n      setLoading(false);\n    }\n  };\n  const handleScanEmails = async () => {\n    try {\n      setLoading(true);\n      const response = await callFetchJobEmails(scanDays);\n      if (response.success) {\n        alert(`Successfully scanned emails! Found ${response.count} applications from the last ${response.daysBack} days.`);\n        setLastScan(new Date());\n      }\n    } catch (error) {\n      console.error('Error scanning emails:', error);\n      alert(`Failed to scan emails: ${error.message}`);\n    }\n    setLoading(false);\n  };\n  const handleGeneratePDF = async () => {\n    try {\n      setPdfLoading(true);\n      const response = await callGeneratePDFReport();\n      if (response.success) {\n        // Open the download URL in a new tab\n        window.open(response.downloadURL, '_blank');\n        alert(`PDF report generated successfully! Found ${response.applicationsCount} applications.`);\n      }\n    } catch (error) {\n      console.error('Error generating PDF:', error);\n      alert(`Failed to generate PDF: ${error.message}`);\n    }\n    setPdfLoading(false);\n  };\n  const handleUpdateScanDays = async () => {\n    try {\n      await updateDoc(doc(db, 'users', user.uid), {\n        emailScanDays: scanDays\n      });\n      alert('Scan period updated successfully!');\n    } catch (error) {\n      console.error('Error updating scan days:', error);\n    }\n  };\n  const getStatusColor = status => {\n    const category = (status === null || status === void 0 ? void 0 : status.category) || status || 'Applied';\n    const colorMap = {\n      'Applied': '#3b82f6',\n      'Under Review': '#f59e0b',\n      'Interview Scheduled': '#8b5cf6',\n      'Technical Interview': '#ec4899',\n      'Final Round': '#f97316',\n      'Offer Received': '#10b981',\n      'Rejected': '#ef4444',\n      'Withdrawn': '#6b7280',\n      'Follow-up Required': '#06b6d4'\n    };\n\n    // Handle partial matches\n    const lowerCategory = category.toLowerCase();\n    for (const [key, color] of Object.entries(colorMap)) {\n      if (lowerCategory.includes(key.toLowerCase())) {\n        return color;\n      }\n    }\n    return colorMap[category] || '#6b7280';\n  };\n  const formatDate = date => {\n    if (!date) return 'Unknown';\n    return new Intl.DateTimeFormat('en-US', {\n      month: 'short',\n      day: 'numeric',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    }).format(date);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"dashboard-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-left\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"\\uD83C\\uDFAF JobTrack Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Welcome back, \", user.displayName || user.email, \"!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-right\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleGeneratePDF,\n            className: \"pdf-button\",\n            disabled: pdfLoading || applications.length === 0,\n            children: pdfLoading ? 'Generating...' : '📄 Generate PDF Report'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onSignOut,\n            className: \"sign-out-button\",\n            children: \"Sign Out\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stats-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: \"\\uD83D\\uDCCA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: stats.total\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Total Applications\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: \"\\u23F3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: stats.pending\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Pending\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: \"\\uD83C\\uDFAF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: stats.interviews\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Interviews\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: \"\\u2705\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: stats.offers\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Offers\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: \"\\u274C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: stats.rejected\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Rejected\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gmail-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD83D\\uDCE7 Gmail Integration\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gmail-status\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `status-indicator ${gmailConnected ? 'connected' : 'disconnected'}`,\n            children: gmailConnected ? '🟢 Connected' : '🔴 Not Connected'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"gmail-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"scan-controls\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"scan-days-input\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"scanDays\",\n              children: \"Scan last:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"scanDays\",\n              value: scanDays,\n              onChange: e => setScanDays(parseInt(e.target.value)),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: 1,\n                children: \"1 day\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 3,\n                children: \"3 days\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 7,\n                children: \"7 days\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 14,\n                children: \"14 days\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 30,\n                children: \"30 days\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 90,\n                children: \"90 days\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleUpdateScanDays,\n              className: \"update-button\",\n              children: \"Update\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: checkGmailConnection,\n            className: \"refresh-button\",\n            style: {\n              marginLeft: '10px',\n              padding: '8px 12px',\n              fontSize: '12px'\n            },\n            children: \"\\uD83D\\uDD04 Refresh Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 13\n          }, this), lastScan && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"last-scan\",\n            style: {\n              marginTop: '10px',\n              fontSize: '12px',\n              color: '#666'\n            },\n            children: [\"Last scan: \", formatDate(lastScan)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"action-buttons\",\n          children: [!gmailConnected && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleConnectGmail,\n            className: \"connect-button\",\n            disabled: loading,\n            children: loading ? 'Connecting...' : '🔗 Connect Gmail'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleScanEmails,\n            className: \"scan-button\",\n            disabled: loading || !gmailConnected,\n            children: loading ? 'Scanning...' : '🔍 Scan for Job Emails'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"applications-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD83D\\uDCCB Job Applications\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"applications-count\",\n          children: [applications.length, \" applications found\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this), applications.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-icon\",\n          children: \"\\uD83D\\uDCED\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"No Applications Yet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Connect your Gmail account and scan for job-related emails to get started!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"applications-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"th\",\n            children: \"Company\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"th\",\n            children: \"Position\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"th\",\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"th\",\n            children: \"Last Contact\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"th\",\n            children: \"Source\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-body\",\n          children: applications.map(app => {\n            var _app$status2, _app$status3, _app$status4;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"table-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"td company-cell\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"company-name\",\n                  children: app.company\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"td position-cell\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"position-name\",\n                  children: app.position\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 386,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"td status-cell\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"status-badge\",\n                  style: {\n                    backgroundColor: getStatusColor(app.status),\n                    color: 'white'\n                  },\n                  children: ((_app$status2 = app.status) === null || _app$status2 === void 0 ? void 0 : _app$status2.category) || app.status || 'Applied'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 21\n                }, this), ((_app$status3 = app.status) === null || _app$status3 === void 0 ? void 0 : _app$status3.description) && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"status-description\",\n                  children: app.status.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 400,\n                  columnNumber: 23\n                }, this), ((_app$status4 = app.status) === null || _app$status4 === void 0 ? void 0 : _app$status4.aiGenerated) && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ai-badge\",\n                  children: \"\\uD83E\\uDD16 AI Generated\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 405,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"td date-cell\",\n                children: formatDate(app.date)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"td source-cell\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"source-badge\",\n                  children: [app.source === 'Gmail' ? '📧' : '📝', \" \", app.source]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 19\n              }, this)]\n            }, app.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 222,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"3th+sD3IpctAPrhP256uAC1VrQ0=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","collection","onSnapshot","doc","updateDoc","getDoc","db","callGetAuthUrl","callFetchJobEmails","callGeneratePDFReport","jsxDEV","_jsxDEV","Dashboard","user","onSignOut","_s","applications","setApplications","loading","setLoading","pdfLoading","setPdfLoading","gmailConnected","setGmailConnected","lastScan","setLastScan","scanDays","setScanDays","stats","setStats","total","pending","interviews","offers","rejected","checkGmailConnection","_tokenDoc$data","console","log","uid","tokenDoc","exists","data","isConnected","refresh_token","error","urlParams","URLSearchParams","window","location","search","get","alert","history","replaceState","document","title","pathname","unsubscribe","snapshot","apps","forEach","id","_data$date","push","date","toDate","Date","sort","a","b","updateStats","length","_mostRecent$created_a","mostRecent","created_at","app","_app$status","status","category","toLowerCase","includes","handleConnectGmail","response","authUrl","url","URL","host","searchParams","toString","setTimeout","href","handleScanEmails","success","count","daysBack","message","handleGeneratePDF","open","downloadURL","applicationsCount","handleUpdateScanDays","emailScanDays","getStatusColor","colorMap","lowerCategory","key","color","Object","entries","formatDate","Intl","DateTimeFormat","month","day","year","hour","minute","format","className","children","fileName","_jsxFileName","lineNumber","columnNumber","displayName","email","onClick","disabled","htmlFor","value","onChange","e","parseInt","target","style","marginLeft","padding","fontSize","marginTop","map","_app$status2","_app$status3","_app$status4","company","position","backgroundColor","description","aiGenerated","source","_c","$RefreshReg$"],"sources":["C:/Users/siddh/OneDrive/Desktop/Projects/Job_tracker/frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { collection, onSnapshot, doc, updateDoc, getDoc } from 'firebase/firestore';\r\nimport { db } from '../firebase';\r\nimport { callGetAuthUrl, callFetchJobEmails, callGeneratePDFReport } from '../api';\r\nimport './Dashboard.css';\r\n\r\nconst Dashboard = ({ user, onSignOut }) => {\r\n  const [applications, setApplications] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [pdfLoading, setPdfLoading] = useState(false);\r\n  const [gmailConnected, setGmailConnected] = useState(false);\r\n  const [lastScan, setLastScan] = useState(null);\r\n  const [scanDays, setScanDays] = useState(7);\r\n  const [stats, setStats] = useState({\r\n    total: 0,\r\n    pending: 0,\r\n    interviews: 0,\r\n    offers: 0,\r\n    rejected: 0\r\n  });\r\n\r\n  // Check if Gmail tokens exist\r\n  const checkGmailConnection = async () => {\r\n    try {\r\n      console.log('🔍 Checking Gmail connection for user:', user.uid);\r\n      const tokenDoc = await getDoc(doc(db, 'users', user.uid, 'tokens', 'gmail'));\r\n      console.log('📄 Token document exists:', tokenDoc.exists());\r\n      if (tokenDoc.exists()) {\r\n        console.log('🔑 Token data:', tokenDoc.data());\r\n      }\r\n      const isConnected = tokenDoc.exists() && tokenDoc.data()?.refresh_token;\r\n      console.log('🔗 Gmail connected:', isConnected);\r\n      setGmailConnected(isConnected);\r\n    } catch (error) {\r\n      console.error('❌ Error checking Gmail connection:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!user) return;\r\n\r\n    // Check for OAuth success in URL\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    if (urlParams.get('auth') === 'success') {\r\n      alert('Gmail successfully connected! You can now scan your emails.');\r\n      // Clean up the URL\r\n      window.history.replaceState({}, document.title, window.location.pathname);\r\n    }\r\n\r\n    checkGmailConnection();\r\n\r\n    // Listen to applications in real-time\r\n    const unsubscribe = onSnapshot(\r\n      collection(db, 'users', user.uid, 'applications'),\r\n      (snapshot) => {\r\n        const apps = [];\r\n        snapshot.forEach((doc) => {\r\n          if (doc.id !== '_init') {\r\n            const data = doc.data();\r\n            apps.push({\r\n              id: doc.id,\r\n              ...data,\r\n              date: data.date?.toDate ? data.date.toDate() : new Date(data.date)\r\n            });\r\n          }\r\n        });\r\n        \r\n        // Sort by date (most recent first)\r\n        apps.sort((a, b) => new Date(b.date) - new Date(a.date));\r\n        setApplications(apps);\r\n        \r\n        // Update stats\r\n        updateStats(apps);\r\n        \r\n        // Get last scan time\r\n        if (apps.length > 0) {\r\n          const mostRecent = apps[0];\r\n          setLastScan(mostRecent.created_at?.toDate ? mostRecent.created_at.toDate() : new Date(mostRecent.created_at));\r\n        }\r\n      },\r\n      (error) => {\r\n        console.error('Error listening to applications:', error);\r\n      }\r\n    );\r\n\r\n    return () => unsubscribe();\r\n  }, [user]);\r\n\r\n  const updateStats = (apps) => {\r\n    const stats = {\r\n      total: apps.length,\r\n      pending: 0,\r\n      interviews: 0,\r\n      offers: 0,\r\n      rejected: 0\r\n    };\r\n\r\n    apps.forEach(app => {\r\n      const status = app.status?.category || app.status || 'Applied';\r\n      if (status.toLowerCase().includes('interview')) {\r\n        stats.interviews++;\r\n      } else if (status.toLowerCase().includes('offer')) {\r\n        stats.offers++;\r\n      } else if (status.toLowerCase().includes('reject')) {\r\n        stats.rejected++;\r\n      } else {\r\n        stats.pending++;\r\n      }\r\n    });\r\n\r\n    setStats(stats);\r\n  };\r\n\r\n  const handleConnectGmail = async () => {\r\n    try {\r\n      setLoading(true);\r\n      console.log('🔗 Starting Gmail connection...');\r\n      const response = await callGetAuthUrl();\r\n      console.log('📧 OAuth URL response:', response);\r\n      console.log('🌐 Redirecting to:', response.authUrl);\r\n      \r\n      // Log the OAuth URL for debugging\r\n      console.log('🔍 OAUTH URL DETAILS:');\r\n      const url = new URL(response.authUrl);\r\n      console.log('- Host:', url.host);\r\n      console.log('- Search params:', url.searchParams.toString());\r\n      console.log('- Redirect URI:', url.searchParams.get('redirect_uri'));\r\n      \r\n      // Delay redirect so we can see the logs\r\n      setTimeout(() => {\r\n        window.location.href = response.authUrl;\r\n      }, 2000); // 2 second delay\r\n      \r\n    } catch (error) {\r\n      console.error('❌ Error connecting to Gmail:', error);\r\n      alert('Failed to connect to Gmail. Please try again.');\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleScanEmails = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await callFetchJobEmails(scanDays);\r\n      \r\n      if (response.success) {\r\n        alert(`Successfully scanned emails! Found ${response.count} applications from the last ${response.daysBack} days.`);\r\n        setLastScan(new Date());\r\n      }\r\n    } catch (error) {\r\n      console.error('Error scanning emails:', error);\r\n      alert(`Failed to scan emails: ${error.message}`);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleGeneratePDF = async () => {\r\n    try {\r\n      setPdfLoading(true);\r\n      const response = await callGeneratePDFReport();\r\n      \r\n      if (response.success) {\r\n        // Open the download URL in a new tab\r\n        window.open(response.downloadURL, '_blank');\r\n        alert(`PDF report generated successfully! Found ${response.applicationsCount} applications.`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error generating PDF:', error);\r\n      alert(`Failed to generate PDF: ${error.message}`);\r\n    }\r\n    setPdfLoading(false);\r\n  };\r\n\r\n  const handleUpdateScanDays = async () => {\r\n    try {\r\n      await updateDoc(doc(db, 'users', user.uid), {\r\n        emailScanDays: scanDays\r\n      });\r\n      alert('Scan period updated successfully!');\r\n    } catch (error) {\r\n      console.error('Error updating scan days:', error);\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    const category = status?.category || status || 'Applied';\r\n    const colorMap = {\r\n      'Applied': '#3b82f6',\r\n      'Under Review': '#f59e0b',\r\n      'Interview Scheduled': '#8b5cf6',\r\n      'Technical Interview': '#ec4899',\r\n      'Final Round': '#f97316',\r\n      'Offer Received': '#10b981',\r\n      'Rejected': '#ef4444',\r\n      'Withdrawn': '#6b7280',\r\n      'Follow-up Required': '#06b6d4',\r\n    };\r\n    \r\n    // Handle partial matches\r\n    const lowerCategory = category.toLowerCase();\r\n    for (const [key, color] of Object.entries(colorMap)) {\r\n      if (lowerCategory.includes(key.toLowerCase())) {\r\n        return color;\r\n      }\r\n    }\r\n    \r\n    return colorMap[category] || '#6b7280';\r\n  };\r\n\r\n  const formatDate = (date) => {\r\n    if (!date) return 'Unknown';\r\n    return new Intl.DateTimeFormat('en-US', {\r\n      month: 'short',\r\n      day: 'numeric',\r\n      year: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    }).format(date);\r\n  };\r\n\r\n  return (\r\n    <div className=\"dashboard\">\r\n      {/* Header */}\r\n      <header className=\"dashboard-header\">\r\n        <div className=\"header-content\">\r\n          <div className=\"header-left\">\r\n            <h1>🎯 JobTrack Dashboard</h1>\r\n            <p>Welcome back, {user.displayName || user.email}!</p>\r\n          </div>\r\n          <div className=\"header-right\">\r\n            <button \r\n              onClick={handleGeneratePDF}\r\n              className=\"pdf-button\"\r\n              disabled={pdfLoading || applications.length === 0}\r\n            >\r\n              {pdfLoading ? 'Generating...' : '📄 Generate PDF Report'}\r\n            </button>\r\n            <button onClick={onSignOut} className=\"sign-out-button\">\r\n              Sign Out\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Stats Cards */}\r\n      <div className=\"stats-grid\">\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\">📊</div>\r\n          <div className=\"stat-content\">\r\n            <div className=\"stat-value\">{stats.total}</div>\r\n            <div className=\"stat-label\">Total Applications</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\">⏳</div>\r\n          <div className=\"stat-content\">\r\n            <div className=\"stat-value\">{stats.pending}</div>\r\n            <div className=\"stat-label\">Pending</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\">🎯</div>\r\n          <div className=\"stat-content\">\r\n            <div className=\"stat-value\">{stats.interviews}</div>\r\n            <div className=\"stat-label\">Interviews</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\">✅</div>\r\n          <div className=\"stat-content\">\r\n            <div className=\"stat-value\">{stats.offers}</div>\r\n            <div className=\"stat-label\">Offers</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\">❌</div>\r\n          <div className=\"stat-content\">\r\n            <div className=\"stat-value\">{stats.rejected}</div>\r\n            <div className=\"stat-label\">Rejected</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Gmail Integration Section */}\r\n      <div className=\"gmail-section\">\r\n        <div className=\"section-header\">\r\n          <h2>📧 Gmail Integration</h2>\r\n          <div className=\"gmail-status\">\r\n            <span className={`status-indicator ${gmailConnected ? 'connected' : 'disconnected'}`}>\r\n              {gmailConnected ? '🟢 Connected' : '🔴 Not Connected'}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"gmail-controls\">\r\n          <div className=\"scan-controls\">\r\n            <div className=\"scan-days-input\">\r\n              <label htmlFor=\"scanDays\">Scan last:</label>\r\n              <select \r\n                id=\"scanDays\"\r\n                value={scanDays} \r\n                onChange={(e) => setScanDays(parseInt(e.target.value))}\r\n              >\r\n                <option value={1}>1 day</option>\r\n                <option value={3}>3 days</option>\r\n                <option value={7}>7 days</option>\r\n                <option value={14}>14 days</option>\r\n                <option value={30}>30 days</option>\r\n                <option value={90}>90 days</option>\r\n              </select>\r\n              <button onClick={handleUpdateScanDays} className=\"update-button\">\r\n                Update\r\n              </button>\r\n            </div>\r\n            \r\n            <button \r\n              onClick={checkGmailConnection} \r\n              className=\"refresh-button\"\r\n              style={{marginLeft: '10px', padding: '8px 12px', fontSize: '12px'}}\r\n            >\r\n              🔄 Refresh Status\r\n            </button>\r\n            \r\n            {lastScan && (\r\n              <div className=\"last-scan\" style={{marginTop: '10px', fontSize: '12px', color: '#666'}}>\r\n                Last scan: {formatDate(lastScan)}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"action-buttons\">\r\n            {!gmailConnected && (\r\n              <button \r\n                onClick={handleConnectGmail}\r\n                className=\"connect-button\"\r\n                disabled={loading}\r\n              >\r\n                {loading ? 'Connecting...' : '🔗 Connect Gmail'}\r\n              </button>\r\n            )}\r\n            \r\n            <button \r\n              onClick={handleScanEmails}\r\n              className=\"scan-button\"\r\n              disabled={loading || !gmailConnected}\r\n            >\r\n              {loading ? 'Scanning...' : '🔍 Scan for Job Emails'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Applications Table */}\r\n      <div className=\"applications-section\">\r\n        <div className=\"section-header\">\r\n          <h2>📋 Job Applications</h2>\r\n          <div className=\"applications-count\">\r\n            {applications.length} applications found\r\n          </div>\r\n        </div>\r\n\r\n        {applications.length === 0 ? (\r\n          <div className=\"empty-state\">\r\n            <div className=\"empty-icon\">📭</div>\r\n            <h3>No Applications Yet</h3>\r\n            <p>Connect your Gmail account and scan for job-related emails to get started!</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"applications-table\">\r\n            <div className=\"table-header\">\r\n              <div className=\"th\">Company</div>\r\n              <div className=\"th\">Position</div>\r\n              <div className=\"th\">Status</div>\r\n              <div className=\"th\">Last Contact</div>\r\n              <div className=\"th\">Source</div>\r\n            </div>\r\n            \r\n            <div className=\"table-body\">\r\n              {applications.map((app) => (\r\n                <div key={app.id} className=\"table-row\">\r\n                  <div className=\"td company-cell\">\r\n                    <div className=\"company-name\">{app.company}</div>\r\n                  </div>\r\n                  \r\n                  <div className=\"td position-cell\">\r\n                    <div className=\"position-name\">{app.position}</div>\r\n                  </div>\r\n                  \r\n                  <div className=\"td status-cell\">\r\n                    <div \r\n                      className=\"status-badge\"\r\n                      style={{ \r\n                        backgroundColor: getStatusColor(app.status),\r\n                        color: 'white'\r\n                      }}\r\n                    >\r\n                      {app.status?.category || app.status || 'Applied'}\r\n                    </div>\r\n                    {app.status?.description && (\r\n                      <div className=\"status-description\">\r\n                        {app.status.description}\r\n                      </div>\r\n                    )}\r\n                    {app.status?.aiGenerated && (\r\n                      <div className=\"ai-badge\">🤖 AI Generated</div>\r\n                    )}\r\n                  </div>\r\n                  \r\n                  <div className=\"td date-cell\">\r\n                    {formatDate(app.date)}\r\n                  </div>\r\n                  \r\n                  <div className=\"td source-cell\">\r\n                    <span className=\"source-badge\">\r\n                      {app.source === 'Gmail' ? '📧' : '📝'} {app.source}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}